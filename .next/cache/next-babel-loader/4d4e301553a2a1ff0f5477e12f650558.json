{"ast":null,"code":"import DB from '@database';\nimport enablePublicAccess from '@cors';\n\nconst AvoDetail = async (req, res) => {\n  try {\n    // Generally, you would not want this in your apps.\n    // See more in 'cors.js'\n    await enablePublicAccess(req, res);\n    const db = new DB();\n    const avoId = req.query.id;\n    const avo = await db.getById(avoId); // Notice: We're using Next.JS response helpers here :)\n    // https://nextjs.org/docs/api-routes/response-helpers\n\n    res.status(200).json(avo);\n  } catch (e) {\n    console.error(e);\n    res.status(404).end();\n  }\n};\n\nexport default AvoDetail;","map":{"version":3,"sources":["/Users/jomicega/projects/courses/pl/nextJs/platzi-market/pages/api/avo/[id].ts"],"names":["DB","enablePublicAccess","AvoDetail","req","res","db","avoId","query","id","avo","getById","status","json","e","console","error","end"],"mappings":"AACA,OAAOA,EAAP,MAAe,WAAf;AACA,OAAOC,kBAAP,MAA+B,OAA/B;;AAEA,MAAMC,SAAS,GAAG,OAAOC,GAAP,EAA4BC,GAA5B,KAAqD;AACrE,MAAI;AACF;AACA;AACA,UAAMH,kBAAkB,CAACE,GAAD,EAAMC,GAAN,CAAxB;AAEA,UAAMC,EAAE,GAAG,IAAIL,EAAJ,EAAX;AACA,UAAMM,KAAK,GAAGH,GAAG,CAACI,KAAJ,CAAUC,EAAxB;AAEA,UAAMC,GAAG,GAAG,MAAMJ,EAAE,CAACK,OAAH,CAAWJ,KAAX,CAAlB,CARE,CAUF;AACA;;AACAF,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,GAArB;AACD,GAbD,CAaE,OAAOI,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAT,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBK,GAAhB;AACD;AACF,CAlBD;;AAoBA,eAAed,SAAf","sourcesContent":["import { NextApiRequest, NextApiResponse } from 'next'\nimport DB from '@database'\nimport enablePublicAccess from '@cors'\n\nconst AvoDetail = async (req: NextApiRequest, res: NextApiResponse) => {\n  try {\n    // Generally, you would not want this in your apps.\n    // See more in 'cors.js'\n    await enablePublicAccess(req, res)\n\n    const db = new DB()\n    const avoId = req.query.id as string\n\n    const avo = await db.getById(avoId)\n\n    // Notice: We're using Next.JS response helpers here :)\n    // https://nextjs.org/docs/api-routes/response-helpers\n    res.status(200).json(avo)\n  } catch (e) {\n    console.error(e)\n    res.status(404).end()\n  }\n}\n\nexport default AvoDetail\n"]},"metadata":{},"sourceType":"module"}